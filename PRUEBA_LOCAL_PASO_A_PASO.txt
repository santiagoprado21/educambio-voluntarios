â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                              â•‘
â•‘                    ğŸ§ª PRUEBA LOCAL - PASO A PASO                            â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ya tienes:
  âœ… Base de datos Neon configurada
  âœ… URLs de voluntarios generadas
  âœ… index.html publicado en Webflow

Ahora vamos a probar TODO el flujo:


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PASO 1: INICIAR EL BACKEND LOCAL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Abre PowerShell

2. Ve a la carpeta del proyecto:
   
   cd "C:\Users\PC SANTI\Desktop\Educambio_Voluntarios"

3. Configura la variable de entorno (usa tu Connection String):
   
   $env:DATABASE_URL = "postgresql://neondb_owner:npg_TW46pOGQbHIU@ep-purple-fire-adc6c84m-pooler.c-2.us-east-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require"

4. Inicia el backend:
   
   python backend-neon.py

5. DeberÃ­as ver:
   
   âœ… Base de datos inicializada correctamente
   âœ… Servidor listo para recibir peticiones
   ğŸŒ Servidor corriendo en: http://localhost:3000

   âš ï¸ IMPORTANTE: Deja esta ventana de PowerShell ABIERTA.
                   El servidor debe seguir corriendo.


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PASO 2: VERIFICAR QUE EL BACKEND FUNCIONA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Abre tu navegador

2. Ve a: http://localhost:3000/health

3. DeberÃ­as ver:
   
   {"status":"ok","message":"Backend de tracking funcionando correctamente","database":"connected"}

   âœ… Si ves "database":"connected" â†’ Â¡PERFECTO!
   âŒ Si ves "database":"error" â†’ Verifica tu Connection String


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PASO 3: CONFIGURAR index.html PARA PRUEBAS LOCALES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Abre: index.html en un editor de texto (Notepad++, VSCode, etc)

2. Busca la lÃ­nea 254 (aprox) que dice:
   
   const BACKEND_URL = 'http://localhost:3000/api/track';

3. AsegÃºrate que estÃ© apuntando a localhost (para pruebas locales)

4. La lÃ­nea 251 deberÃ­a tener:
   
   const SUSCRIPCIONES_URL = 'https://suscripciones.co/educambio/donar';
   
   (o tu URL real de suscripciones)

5. Guarda el archivo


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PASO 4: PROBAR EL FORMULARIO LOCALMENTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ahora vamos a simular que alguien hace clic en el enlace de un voluntario:

1. Abre una nueva pestaÃ±a en tu navegador

2. Abre el archivo index.html con una URL de prueba:
   
   OPCIÃ“N A - Arrastra index.html al navegador y agrega manualmente:
   
   file:///C:/Users/PC%20SANTI/Desktop/Educambio_Voluntarios/index.html?ref=MARIA
   
   (Reemplaza MARIA con el cÃ³digo de uno de tus voluntarios de prueba)

   OPCIÃ“N B - Usa un servidor local simple (mejor):
   
   En PowerShell (NUEVA VENTANA, no cierres la del backend):
   
   cd "C:\Users\PC SANTI\Desktop\Educambio_Voluntarios"
   python -m http.server 8000
   
   Luego ve a: http://localhost:8000/index.html?ref=MARIA

3. DeberÃ­as ver:
   
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚    ğŸ’š Educambio                     â”‚
   â”‚    Gracias por tu generosidad       â”‚
   â”‚                                     â”‚
   â”‚ Voluntario referido: MARIA          â”‚  â† Â¡Debe aparecer el cÃ³digo!
   â”‚                                     â”‚
   â”‚ [Tu correo electrÃ³nico]             â”‚
   â”‚ [Tu nombre (opcional)]              â”‚
   â”‚                                     â”‚
   â”‚ [Continuar a la donaciÃ³n]           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

4. Llena el formulario:
   
   Email: prueba@test.com
   Nombre: Juan Prueba

5. Haz clic en "Continuar a la donaciÃ³n"

6. Si todo funciona:
   
   âœ… VerÃ¡s un mensaje: "Â¡InformaciÃ³n registrada!"
   âœ… SerÃ¡s redirigido a suscripciones.co (puedes cancelar)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PASO 5: VERIFICAR QUE SE GUARDÃ“ EN LA BASE DE DATOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Ve a tu navegador

2. Abre: http://localhost:3000/api/tracks

3. DeberÃ­as ver algo como:
   
   {
     "success": true,
     "count": 1,
     "data": [
       {
         "id": 1,
         "email": "prueba@test.com",
         "name": "Juan Prueba",
         "volunteerCode": "MARIA",
         "timestamp": "2025-10-29T...",
         ...
       }
     ]
   }

   âœ… Si ves tu email y el cÃ³digo del voluntario â†’ Â¡FUNCIONA PERFECTO!


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PASO 6: VERIFICAR EN NEON (OPCIONAL)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Ve a: https://console.neon.tech

2. Selecciona tu proyecto "educambio"

3. Ve a "SQL Editor"

4. Ejecuta:
   
   SELECT * FROM volunteer_tracking;

5. DeberÃ­as ver tu registro de prueba


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PASO 7: PROBAR CON DIFERENTES VOLUNTARIOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Repite el PASO 4 con diferentes cÃ³digos:

http://localhost:8000/index.html?ref=JUAN123
http://localhost:8000/index.html?ref=PEDRO

Usa diferentes emails cada vez:
- prueba1@test.com
- prueba2@test.com
- etc.

Luego verifica que todos se guarden:
http://localhost:3000/api/tracks


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PASO 8: PROBAR EL MATCHER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Exporta los datos de prueba:
   
   Abre: http://localhost:3000/api/export/csv
   
   Se descargarÃ¡: voluntarios_tracking.csv

2. Ahora simula que tienes donaciones de suscripciones.co.
   
   Crea un archivo: donaciones_prueba.csv
   
   Contenido:
   email,nombre,monto,fecha
   prueba@test.com,Juan Prueba,50000,2025-10-29
   prueba1@test.com,MarÃ­a Test,30000,2025-10-29
   prueba2@test.com,Pedro Test,100000,2025-10-28

3. Ejecuta el matcher:
   
   python matcher.py donaciones_prueba.csv

4. DeberÃ­as ver:
   
   âœ… Matches encontrados: 3 (100%)
   
   ğŸ“Š Resumen por voluntario:
   MARIA: 1 donaciÃ³n
   JUAN123: 1 donaciÃ³n
   PEDRO: 1 donaciÃ³n

5. Se generan dos archivos:
   - donaciones_con_voluntarios.csv
   - resumen_voluntarios.csv


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PASO 9: PROBAR CON WEBFLOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Si ya publicaste en Webflow:

1. AsegÃºrate que tu backend estÃ© corriendo (PASO 1)

2. Ve a tu pÃ¡gina en Webflow con un cÃ³digo:
   
   https://tu-sitio.webflow.io/?ref=MARIA

3. Llena el formulario

4. Verifica que se guarde:
   http://localhost:3000/api/tracks


âš ï¸ IMPORTANTE PARA WEBFLOW:

   Si tu sitio estÃ¡ en Webflow y el backend en localhost, tendrÃ¡s
   problemas de CORS (no podrÃ¡ conectarse).
   
   Para producciÃ³n necesitas:
   1. Desplegar el backend en Render
   2. Actualizar BACKEND_URL en index.html
   3. Volver a publicar en Webflow


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âŒ "No se muestra el cÃ³digo del voluntario"
   â†’ Verifica que la URL tenga ?ref=CODIGO al final

âŒ "Error al guardar" en el formulario
   â†’ Verifica que el backend estÃ© corriendo
   â†’ Abre F12 en el navegador y mira la consola

âŒ "database":"disconnected" en /health
   â†’ Verifica tu Connection String de Neon
   â†’ AsegÃºrate que copiaste todo el string completo

âŒ "CORS error" en la consola del navegador
   â†’ Normal si estÃ¡s en Webflow y backend en localhost
   â†’ SoluciÃ³n: Despliega backend en Render

âŒ El matcher no encuentra matches
   â†’ Verifica que los emails sean EXACTAMENTE iguales
   â†’ Revisa que el CSV tenga la columna "email"


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  RESUMEN DE PRUEBA EXITOSA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Backend corriendo en http://localhost:3000
âœ… /health muestra "database":"connected"
âœ… Formulario muestra el cÃ³digo del voluntario
âœ… Datos se guardan al enviar el formulario
âœ… /api/tracks muestra los registros
âœ… Matcher genera reportes correctamente

Â¡Si todo esto funciona, tu sistema estÃ¡ listo para producciÃ³n!


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  PRÃ“XIMO PASO: PRODUCCIÃ“N
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Despliega backend en Render (lee GUIA_PYTHON_NEON.md PASO 7)
2. Actualiza BACKEND_URL en index.html con la URL de Render
3. Vuelve a publicar en Webflow
4. Â¡Listo para usar!


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                           Â¡BUENA SUERTE! ğŸ’š

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

